{% extends 'base.html' %}

{% block content_block %}

{#<link rel="stylesheet" type="text/css" href="../static/css/bootstrap.min.css">#}
{#<link rel="stylesheet" type="text/css" href="../static/css/btn.css">#}

<style>
    .node_table table {
        width: 100%;
        border-collapse: collapse;
        color: #5a5a5a;
    }

    .node_table tr {
        width: 100%;
        height: 50px;
        font-size: 14px;
        padding-left: 37px;
        border-bottom: 1px solid #E5E5E5;
    }

    tr th:first-of-type,
    tr td:first-of-type {
        width: 380px;
        padding-left: 50px;

    }

    {#tr th:nth-of-type(2),#}
    {#tr th:nth-of-type(2) {#}
    {#    width: 600px;#}
    {#}#}

    a {
        color: #1a73eb
    }
    .modal-header,
    .modal-footer{
        border: none;
    }
</style>

<body>

    <body>
        <div class="container">
            <div class="node_table">
                <table>
                    <tr>
                        <th>节点类型</th>
                        <th>描述</th>
                        <th>上传时间</th>
                        <th>操作</th>
                    </tr>
                    {% for node in nodes %}
                    <tr>
                        <td>{{ node.category }}</td>
                        <td>{{ node.description }}</td>
                        <td>{{ node.upload_time }}</td>
                        <td><a href="#" data-toggle="modal" data-target="#Modal_{{ node.id }}">下载</a></td>
                    </tr>
            <div class="modal fade" id="Modal_{{ node.id }}" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
            aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                            &times;
                        </button>
                        <h4 class="modal-title" id="myModalLabel">
                           节点下载
                        </h4>
                    </div>
                    <div class="modal-body">
                       <p>硬件需求：{{ node.hardware_requirement }}</p>  <p>软件需求：{{ node.software_requirement }}</p> <p>系统需求：{{ node.system_requirement }}</p>

                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">取消
                        </button>
                        <a href=" {{ url_for('download_file',filename=node.file) }}">
                        <button type="button" class="btn btn-primary" >
                            下载
                        </button></a>
                    </div>
                </div><!-- /.modal-content -->
            </div><!-- /.modal -->
        </div>

                    {% endfor %}

                </table>

            </div>
        </div>
    </body>

</body>
{% endblock %}